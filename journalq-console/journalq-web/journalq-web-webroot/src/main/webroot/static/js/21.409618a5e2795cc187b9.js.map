{"version":3,"sources":["webpack:///src/views/setting/brokerMonitor.vue","webpack:///./src/views/setting/brokerMonitor.vue?c9bf","webpack:///./src/views/setting/brokerMonitor.vue","webpack:///src/views/setting/broker.vue","webpack:///./src/views/setting/broker.vue?f9fe","webpack:///./src/views/setting/broker.vue"],"names":["brokerMonitor","name","components","BrokerPartitionGroupMonitor","BrokerConnectionMonitor","brokerConnectionMonitor","ClientConnection","clientConnection","myTable","myDialog","props","brokerId","type","Number","mixins","crud","data","theme1","urls","search","searchData","this","searchRules","tableData","rowData","colData","title","key","render","h","params","list","item","brokerTopicMonitorRecordList","html","i","length","p","app","push","connections","count","totalSize","multipleSelection","methods","menuChange","getList","$refs","mounted","setting_brokerMonitor","_vm","_h","$createElement","_c","_self","on","on-change","attrs","label","showPin","showTablePin","page","on-size-change","handleSizeChange","on-current-change","handleCurrentChange","on-selection-change","handleSelectionChange","on-edit","edit","_v","ref","broker-id","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","setting_broker","BrokerMonitor","del","archiveMonitor","keyword","btns","txt","method","editDialog","visible","showFooter","archiveMonitorDialog","archiveMonitorData","monitorDetailDialog","width","monitorDetailData","editData","_this","broker","ip","port","apiRequest","postBase","urlOrigin","then","console","log","openDialog","detail","id","beforeEdit","_this2","promise_default","a","resolve","reject","retryType","description","views_setting_broker","staticClass","staticStyle","placeholder","model","value","callback","$$v","$set","expression","slot","size","color","click","on-del","on-detail","on-archiveMonitor","dialog","on-dialog-confirm","$event","editConfirm","on-dialog-cancel","editCancel","span","disabled","justify","_s","consumeBacklog","produceBacklog","ssrContext"],"mappings":"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","file":"static/js/21.409618a5e2795cc187b9.js","sourcesContent":["<template>\n  <div>\n    <d-tabs @on-change=\"menuChange\">\n      <d-tab-pane label=\"生产者详情\" name=\"producer\">\n        <my-table :data=\"tableData\" :showPin=\"showTablePin\" :page=\"page\" @on-size-change=\"handleSizeChange\" @on-current-change=\"handleCurrentChange\" @on-selection-change=\"handleSelectionChange\"\n                  @on-edit=\"edit\">\n        </my-table>\n      </d-tab-pane>\n      <d-tab-pane label=\"消费者详情\" name=\"consumer\">\n        <my-table :data=\"tableData\" :showPin=\"showTablePin\" :page=\"page\" @on-size-change=\"handleSizeChange\" @on-current-change=\"handleCurrentChange\" @on-selection-change=\"handleSelectionChange\"\n                  @on-edit=\"edit\">\n        </my-table>\n      </d-tab-pane>\n      <d-tab-pane label=\"连接信息\" name=\"brokerConnectionMonitor\">\n        <broker-connection-monitor ref=\"brokerConnectionMonitor\" :broker-id=\"this.brokerId\"></broker-connection-monitor>\n      </d-tab-pane>\n      <d-tab-pane label=\"分组信息\" name=\"brokerPartitionGroupMonitor\">\n        <broker-partition-group-monitor ref=\"brokerPartitionGroupMonitor\" :broker-id=\"this.brokerId\"></broker-partition-group-monitor>\n      </d-tab-pane>\n    </d-tabs>\n  </div>\n</template>\n\n<script>\n  import apiRequest from '../../utils/apiRequest.js'\n  import myTable from '../../components/common/myTable.vue'\n  import myDialog from '../../components/common/myDialog.vue'\n  import crud from '../../mixins/crud.js'\n  import ClientConnection from \"../monitor/clientConnection\";\n  import BrokerConnectionMonitor from \"./brokerConnectionMonitor\";\n  import BrokerPartitionGroupMonitor from \"./brokerPartitionGroupMonitor\";\n\n  export default {\n    name: \"brokerMonitor\",\n    components: {\n      BrokerPartitionGroupMonitor,\n      BrokerConnectionMonitor,\n      ClientConnection,\n      myTable,\n      myDialog\n    },\n    props:{\n      brokerId:{\n        type:Number\n      }\n    },\n    mixins: [ crud ],\n    data() {\n      return {\n        theme1: 'light',\n        urls: {\n          search: '/monitor/broker/topic/search',\n        },\n        searchData: {\n          brokerId: this.brokerId,\n          type:1\n        },\n        searchRules: {\n        },\n        tableData: {\n          rowData: [],\n          colData: [\n            {\n              title: '队列',\n              key: 'topic'\n            },\n            {\n              title: '应用',\n              key: 'brokerTopicMonitorRecordList',\n              render: (h, params) => {\n                var list=params.item.brokerTopicMonitorRecordList;\n                var html=[];\n                for(var i=0;i<list.length;i++){\n                  var p=h('div',list[i].app);\n                  html.push(p);\n                }\n                return h('div',{},html)\n              }\n            },\n            {\n              title: '连接数',\n              key: 'brokerTopicMonitorRecordList',\n              render: (h, params) => {\n                var list=params.item.brokerTopicMonitorRecordList;\n                var html=[];\n                for(var i=0;i<list.length;i++){\n                  var p=h('div',list[i].connections);\n                  html.push(p);\n                }\n                return h('div',html)\n              }\n            },\n            {\n              title: '出/入对数',\n              key: 'brokerTopicMonitorRecordList',\n              render: (h, params) => {\n                var list=params.item.brokerTopicMonitorRecordList;\n                var html=[]\n                for(var i=0;i<list.length;i++){\n                  var p=h('div',list[i].count);\n                  html.push(p);\n                }\n                return h('div',html)\n              }\n            },\n            {\n              title: '出/入队流量',\n              key: 'brokerTopicMonitorRecordList',\n              render: (h, params) => {\n                var list=params.item.brokerTopicMonitorRecordList;\n                var html=[];\n                for(var i=0;i<list.length;i++){\n                  var p=h('div',list[i].totalSize);\n                  html.push(p);\n                }\n                return h('div',html)\n              }\n            }\n          ],\n          // 表格操作，如果需要根据特定值隐藏显示， 设置bindKey对应的属性名和bindVal对应的属性值\n          // btns: [\n          //   {\n          //     txt: '编辑',\n          //     method: 'on-edit'\n          //   }\n          // ]\n        },\n        multipleSelection: []\n      }\n    },\n    methods: {\n      menuChange(item){\n        if (item.name=='consumer'){\n          this.searchData.type=2;\n          this.getList();\n        } else if (item.name=='producer') {\n          this.searchData.type=1;\n          this.getList();\n        } else {\n          this.$refs[item.name].getList()\n        }\n      }\n    },\n    mounted () {\n      this.getList()\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/setting/brokerMonitor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('d-tabs',{on:{\"on-change\":_vm.menuChange}},[_c('d-tab-pane',{attrs:{\"label\":\"生产者详情\",\"name\":\"producer\"}},[_c('my-table',{attrs:{\"data\":_vm.tableData,\"showPin\":_vm.showTablePin,\"page\":_vm.page},on:{\"on-size-change\":_vm.handleSizeChange,\"on-current-change\":_vm.handleCurrentChange,\"on-selection-change\":_vm.handleSelectionChange,\"on-edit\":_vm.edit}})],1),_vm._v(\" \"),_c('d-tab-pane',{attrs:{\"label\":\"消费者详情\",\"name\":\"consumer\"}},[_c('my-table',{attrs:{\"data\":_vm.tableData,\"showPin\":_vm.showTablePin,\"page\":_vm.page},on:{\"on-size-change\":_vm.handleSizeChange,\"on-current-change\":_vm.handleCurrentChange,\"on-selection-change\":_vm.handleSelectionChange,\"on-edit\":_vm.edit}})],1),_vm._v(\" \"),_c('d-tab-pane',{attrs:{\"label\":\"连接信息\",\"name\":\"brokerConnectionMonitor\"}},[_c('broker-connection-monitor',{ref:\"brokerConnectionMonitor\",attrs:{\"broker-id\":this.brokerId}})],1),_vm._v(\" \"),_c('d-tab-pane',{attrs:{\"label\":\"分组信息\",\"name\":\"brokerPartitionGroupMonitor\"}},[_c('broker-partition-group-monitor',{ref:\"brokerPartitionGroupMonitor\",attrs:{\"broker-id\":this.brokerId}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0039b5da\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/setting/brokerMonitor.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./brokerMonitor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./brokerMonitor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0039b5da\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./brokerMonitor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/setting/brokerMonitor.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"ml20 mt30\">\n      <d-input v-model=\"searchData.keyword\" placeholder=\"请输入ID/分组编码/IP\" class=\"left mr10\" style=\"width: 20%\">\n        <icon name=\"search\" size=\"14\" color=\"#CACACA\" slot=\"suffix\" @click=\"getList\"></icon>\n      </d-input>\n    </div>\n    <my-table :data=\"tableData\" :showPin=\"showTablePin\" :page=\"page\" @on-size-change=\"handleSizeChange\" @on-current-change=\"handleCurrentChange\" @on-selection-change=\"handleSelectionChange\"\n              @on-edit=\"edit\" @on-del=\"del\" @on-detail=\"detail\" @on-archiveMonitor=\"archiveMonitor\">\n    </my-table>\n\n    <!--编辑Broker-->\n    <my-dialog :dialog=\"editDialog\" @on-dialog-confirm=\"editConfirm()\" @on-dialog-cancel=\"editCancel()\">\n      <grid-row class=\"mb10\">\n        <grid-col :span=\"8\" class=\"label\">IP:</grid-col>\n        <grid-col :span=\"16\" class=\"val\">\n          <d-input v-model=\"editData.ip\"></d-input>\n        </grid-col>\n      </grid-row>\n      <grid-row class=\"mb10\">\n        <grid-col :span=\"8\" class=\"label\">端口:</grid-col>\n        <grid-col :span=\"16\" class=\"val\">\n          <d-input v-model=\"editData.port\"></d-input>\n        </grid-col>\n      </grid-row>\n      <grid-row class=\"mb10\">\n        <grid-col :span=\"8\" class=\"label\">重试方式:</grid-col>\n        <grid-col :span=\"16\" class=\"val\">\n          <d-input v-model=\"editData.retryType\" disabled></d-input>\n        </grid-col>\n      </grid-row>\n      <!--<grid-row class=\"mb10\">-->\n        <!--<grid-col :span=\"8\" class=\"label\">描述:</grid-col>-->\n        <!--<grid-col :span=\"16\" class=\"val\">-->\n          <!--<d-input v-model=\"editData.description\"></d-input>-->\n        <!--</grid-col>-->\n      <!--</grid-row>-->\n    </my-dialog>\n    <my-dialog :dialog=\"archiveMonitorDialog\">\n      <grid-row class=\"mb10\" justify=\"end\">\n        <grid-col :span=\"6\" class=\"label\">待归档消费记录数:</grid-col>\n        <grid-col :span=\"2\" class=\"label\" >\n          <span >{{archiveMonitorData.consumeBacklog}}</span>\n        </grid-col>\n        <grid-col :span=\"6\" class=\"label\">待归生产记录数:</grid-col>\n        <grid-col :span=\"2\" class=\"label\">\n          <span >{{archiveMonitorData.produceBacklog}}</span>\n        </grid-col>\n      </grid-row>\n    </my-dialog>\n    <my-dialog :dialog=\"monitorDetailDialog\">\n      <broker-monitor :brokerId=\"brokerId\"> </broker-monitor>\n    </my-dialog>\n  </div>\n</template>\n\n<script>\nimport apiRequest from '../../utils/apiRequest.js'\nimport myTable from '../../components/common/myTable.vue'\nimport myDialog from '../../components/common/myDialog.vue'\nimport crud from '../../mixins/crud.js'\nimport BrokerMonitor from \"./brokerMonitor\";\n\nexport default {\n  name: 'application',\n  components: {\n    BrokerMonitor,\n    myTable,\n    myDialog\n  },\n  mixins: [ crud ],\n  data () {\n    return {\n      urls: {\n        search: '/broker/search',\n        del: '/broker/delete',\n        edit: '/broker/update',\n        archiveMonitor: '/monitor/archive'\n      },\n      searchData: {\n        keyword: ''\n      },\n      searchRules: {\n      },\n      tableData: {\n        rowData: [],\n        colData: [\n          {\n            title: 'ID',\n            key: 'id'\n          },\n          {\n            title: '分组编码',\n            key: 'group.code'\n          },\n          {\n            title: 'IP',\n            key: 'ip'\n          },\n          {\n            title: '端口',\n            key: 'port'\n          },\n          // {\n          //   title:'数据中心',\n          //   key: 'dataCenter.id'\n          // },\n          {\n            title: '重试方式',\n            key: 'retryType'\n          }\n          // {\n          //   title:'描述',\n          //   key: 'description'\n          // }\n        ],\n        // 表格操作，如果需要根据特定值隐藏显示， 设置bindKey对应的属性名和bindVal对应的属性值\n        btns: [\n          {\n            txt: '编辑',\n            method: 'on-edit'\n          },\n          {\n            txt: '归档监控',\n            method: 'on-archiveMonitor'\n          },\n          {\n            txt: '删除',\n            method: 'on-del'\n          },\n          {\n            txt: '详情',\n            method: 'on-detail'\n          }\n        ]\n      },\n      brokerId:'',\n      multipleSelection: [],\n      editDialog: {\n        visible: false,\n        title: '编辑Broker',\n        showFooter: true\n      },\n      archiveMonitorDialog: {\n        visible: false,\n        title: '归档监控信息',\n        showFooter: true\n      },\n      archiveMonitorData: {},\n      monitorDetailDialog: {\n        visible: false,\n        title: 'broker详情',\n        showFooter: false,\n        width:'1100px'\n      },\n      monitorDetailData:{},\n      editData: {}\n    }\n  },\n  methods: {\n    archiveMonitor (item) {\n      let broker = {\n        ip: item.ip,\n        port: item.port\n      }\n      apiRequest.postBase(this.urlOrigin.archiveMonitor, {}, broker, false).then((data) => {\n        data.data = data.data || {}\n        console.log(data.data)\n        this.archiveMonitorData = data.data\n        this.openDialog('archiveMonitorDialog')\n      })\n    },\n    detail(item) {\n      this.brokerId = item.id;\n      this.monitorDetailDialog.visible=true;\n    },\n    beforeEdit () {\n      return new Promise((resolve, reject) => {\n        resolve({\n          id: this.editData.id,\n          brokerId: this.editData.brokerId,\n          ip: this.editData.ip,\n          port: this.editData.port,\n          // dataCenter: this.editData['dataCenter'].id,\n          retryType: this.editData.retryType,\n          description: this.editData.description\n        })\n      })\n    }\n  },\n  mounted () {\n    this.getList()\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  .label{text-align: right; line-height: 32px;}\n  .val{}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/setting/broker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"ml20 mt30\"},[_c('d-input',{staticClass:\"left mr10\",staticStyle:{\"width\":\"20%\"},attrs:{\"placeholder\":\"请输入ID/分组编码/IP\"},model:{value:(_vm.searchData.keyword),callback:function ($$v) {_vm.$set(_vm.searchData, \"keyword\", $$v)},expression:\"searchData.keyword\"}},[_c('icon',{attrs:{\"slot\":\"suffix\",\"name\":\"search\",\"size\":\"14\",\"color\":\"#CACACA\"},on:{\"click\":_vm.getList},slot:\"suffix\"})],1)],1),_vm._v(\" \"),_c('my-table',{attrs:{\"data\":_vm.tableData,\"showPin\":_vm.showTablePin,\"page\":_vm.page},on:{\"on-size-change\":_vm.handleSizeChange,\"on-current-change\":_vm.handleCurrentChange,\"on-selection-change\":_vm.handleSelectionChange,\"on-edit\":_vm.edit,\"on-del\":_vm.del,\"on-detail\":_vm.detail,\"on-archiveMonitor\":_vm.archiveMonitor}}),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.editDialog},on:{\"on-dialog-confirm\":function($event){return _vm.editConfirm()},\"on-dialog-cancel\":function($event){return _vm.editCancel()}}},[_c('grid-row',{staticClass:\"mb10\"},[_c('grid-col',{staticClass:\"label\",attrs:{\"span\":8}},[_vm._v(\"IP:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"val\",attrs:{\"span\":16}},[_c('d-input',{model:{value:(_vm.editData.ip),callback:function ($$v) {_vm.$set(_vm.editData, \"ip\", $$v)},expression:\"editData.ip\"}})],1)],1),_vm._v(\" \"),_c('grid-row',{staticClass:\"mb10\"},[_c('grid-col',{staticClass:\"label\",attrs:{\"span\":8}},[_vm._v(\"端口:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"val\",attrs:{\"span\":16}},[_c('d-input',{model:{value:(_vm.editData.port),callback:function ($$v) {_vm.$set(_vm.editData, \"port\", $$v)},expression:\"editData.port\"}})],1)],1),_vm._v(\" \"),_c('grid-row',{staticClass:\"mb10\"},[_c('grid-col',{staticClass:\"label\",attrs:{\"span\":8}},[_vm._v(\"重试方式:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"val\",attrs:{\"span\":16}},[_c('d-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editData.retryType),callback:function ($$v) {_vm.$set(_vm.editData, \"retryType\", $$v)},expression:\"editData.retryType\"}})],1)],1)],1),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.archiveMonitorDialog}},[_c('grid-row',{staticClass:\"mb10\",attrs:{\"justify\":\"end\"}},[_c('grid-col',{staticClass:\"label\",attrs:{\"span\":6}},[_vm._v(\"待归档消费记录数:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"label\",attrs:{\"span\":2}},[_c('span',[_vm._v(_vm._s(_vm.archiveMonitorData.consumeBacklog))])]),_vm._v(\" \"),_c('grid-col',{staticClass:\"label\",attrs:{\"span\":6}},[_vm._v(\"待归生产记录数:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"label\",attrs:{\"span\":2}},[_c('span',[_vm._v(_vm._s(_vm.archiveMonitorData.produceBacklog))])])],1)],1),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.monitorDetailDialog}},[_c('broker-monitor',{attrs:{\"brokerId\":_vm.brokerId}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a694feaa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/setting/broker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a694feaa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./broker.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./broker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./broker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a694feaa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./broker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a694feaa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/setting/broker.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}