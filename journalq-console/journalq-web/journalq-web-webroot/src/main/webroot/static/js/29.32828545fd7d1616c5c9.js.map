{"version":3,"sources":["webpack:///src/views/topic/partitionGroup.vue","webpack:///./src/views/topic/partitionGroup.vue?f688","webpack:///./src/views/topic/partitionGroup.vue"],"names":["partitionGroup","name","components","myTable","myDialog","groupDetail","groupScale","groupMerge","groupNew","mixins","crud","data","urls","search","del","addPartition","removePartition","getMonitor","searchData","topic","id","this","$route","query","code","namespace","namespaceId","namespaceCode","keyword","searchRules","tableData","rowData","colData","title","key","render","h","params","label","item","electType","btns","txt","method","groupDetailDialog","visible","width","showFooter","groupDetailDialogData","groupScaleDialog","groupScaleDialogData","groupMergeDialog","groupMergeDialogData","addPartitionDialog","addPartitionDialogData","removePartitionDialog","removePartitionDialogData","groupNewDialog","groupNewDialogData","replicaGroups","partitions","newGroupData","computed","methods","getList","_this","showTablePin","pagination","page","size","apiRequest","post","urlOrigin","then","totalRecord","length","total","goDetail","groupNo","groupDetailConfirm","groupDetailCancel","groupScaleConfirm","groupScaleCancel","groupNewConfirm","groupNewCancel","groupMergeConfirm","groupMergeCancel","addPartitionConfirm","_this2","partitionsCount","$Dialog","success","content","error","addPartitionCancel","removePartitionConfirm","_this3","removePartitionCancel","_this4","$Message","topicUpdate","$emit","afterDel","mounted","topic_partitionGroup","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","on","click","_v","staticStyle","margin-left","showPin","on-size-change","handleSizeChange","on-current-change","handleCurrentChange","on-view-detail","on-scale","on-merge","on-del","on-addPartition","on-removePartition","dialog","on-dialog-confirm","$event","on-dialog-cancel","placeholder","model","value","callback","$$v","$set","expression","slot","on-partition-group-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/29.32828545fd7d1616c5c9.js","sourcesContent":["<template>\n  <div>\n    <div class=\"ml20 mt30\">\n      <d-button type=\"primary\" @click=\"groupNew\">扩容<icon name=\"plus-circle\" style=\"margin-left: 5px;\"></icon></d-button>\n    </div>\n    <my-table :data=\"tableData\" :showPin=\"showTablePin\" :page=\"page\" @on-size-change=\"handleSizeChange\"\n              @on-current-change=\"handleCurrentChange\" @on-view-detail=\"goDetail\" @on-scale=\"groupScale\"\n              @on-merge=\"groupMerge\" @on-del=\"del\" @on-addPartition=\"addPartition\" @on-removePartition=\"removePartition\">\n    </my-table>\n    <!--详情-->\n    <my-dialog :dialog=\"groupDetailDialog\" @on-dialog-confirm=\"groupDetailConfirm()\" @on-dialog-cancel=\"groupDetailCancel()\">\n      <group-detail :data=\"groupDetailDialogData\"></group-detail>\n    </my-dialog>\n    <!--添加节点-->\n    <my-dialog :dialog=\"groupScaleDialog\" @on-dialog-confirm=\"groupScaleConfirm()\" @on-dialog-cancel=\"groupScaleCancel()\" >\n      <group-scale :data=\"groupScaleDialogData\"  ></group-scale>\n    </my-dialog>\n    <!--移除节点-->\n    <my-dialog :dialog=\"groupMergeDialog\" @on-dialog-confirm=\"groupMergeConfirm()\" @on-dialog-cancel=\"groupMergeCancel()\"  >\n      <group-merge :data=\"groupMergeDialogData\"  ></group-merge>\n    </my-dialog>\n    <!--增加分区数-->\n    <my-dialog :dialog=\"addPartitionDialog\" @on-dialog-confirm=\"addPartitionConfirm()\" @on-dialog-cancel=\"addPartitionCancel()\"  >\n      <d-input v-model=\"addPartitionDialogData.partitionCount\" placeholder=\"请输入增加分区数\" style=\"width: 400px\">\n        <span slot=\"prepend\">增加分区数</span>\n      </d-input>\n    </my-dialog>\n    <!--减少分区数-->\n    <my-dialog :dialog=\"removePartitionDialog\" @on-dialog-confirm=\"removePartitionConfirm()\" @on-dialog-cancel=\"removePartitionCancel()\"  >\n      <d-input v-model=\"removePartitionDialogData.partitionCount\" placeholder=\"请输入减少分区数\" style=\"width: 400px\">\n        <span slot=\"prepend\">减少分区数</span>\n      </d-input>\n    </my-dialog>\n\n    <!--扩容-->\n    <my-dialog :dialog=\"groupNewDialog\" @on-dialog-confirm=\"groupNewConfirm()\" @on-dialog-cancel=\"groupNewCancel()\">\n      <group-new :data=\"groupNewDialogData\" @on-dialog-confirm=\"groupNewConfirm()\" @on-dialog-cancel=\"groupNewCancel()\"  @on-partition-group-change=\"topicUpdate\"></group-new>\n    </my-dialog>\n  </div>\n</template>\n\n<script>\nimport apiRequest from '../../utils/apiRequest.js'\nimport myTable from '../../components/common/myTable.vue'\nimport myDialog from '../../components/common/myDialog.vue'\nimport groupDetail from './groupDetail.vue'\nimport groupScale from './groupScale.vue'\nimport groupMerge from './groupMerge.vue'\nimport groupNew from './groupNew.vue'\nimport crud from '../../mixins/crud.js'\n\nexport default {\n  name: '',\n  components: {\n    myTable,\n    myDialog,\n    groupDetail,\n    groupScale,\n    groupMerge,\n    groupNew\n  },\n  mixins: [ crud ],\n  data () {\n    return {\n      urls: {\n        search: `/partitionGroup/search`,\n        del: `/partitionGroup/delete`,\n        addPartition: `/partitionGroup/addPartition`,\n        removePartition: `/partitionGroup/removePartition`,\n        getMonitor: `/monitor`\n      },\n      searchData: {\n        topic: {\n          id: this.$route.query.id,\n          code: this.$route.query.code\n        },\n        namespace: {\n          id: this.$route.query.namespaceId,\n          code: this.$route.query.namespaceCode\n        },\n        keyword: ''\n      },\n      searchRules: {\n      },\n      tableData: {\n        rowData: [],\n        colData: [\n          {\n            title: 'ID',\n            key: 'id'\n          },\n          {\n            title: '主题',\n            key: 'topic.code'\n          },\n          {\n            title: 'group',\n            key: 'groupNo'\n          },\n          {\n            title: '选举类型',\n            key: 'electType',\n            render: (h, params) => {\n              let label\n              switch (params.item.electType) {\n                case 0:\n                  label = 'raft'\n                  break\n                case 1:\n                  label = 'fix'\n                  break\n              }\n              return h('label', {}, label)\n            }\n          },\n          {\n            title: 'partitions',\n            key: 'partitions'\n          },\n          {\n            title: 'leader',\n            key: 'leader'\n          },\n          {\n            title: '推荐leader',\n              key: 'recLeader'\n          },\n          {\n            title: 'isr',\n            key: 'isr'\n          },\n          {\n            title: 'term',\n            key: 'term'\n          }\n        ],\n        btns: [\n          {\n            txt: '详情',\n            method: 'on-view-detail'\n          },\n          {\n            txt: '增加副本数',\n            method: 'on-scale'\n          },\n          {\n            txt: '减副本数',\n            method: 'on-merge'\n          },\n          {\n            txt: '删除',\n            method: 'on-del'\n          },\n          {\n            txt: '增加分区',\n            method: 'on-addPartition'\n          },\n          {\n            txt: '减少分区',\n            method: 'on-removePartition'\n          }\n        ]\n      },\n      groupDetailDialog: {\n        visible: false,\n        title: '详情',\n        width: 800,\n        showFooter: false\n      },\n      groupDetailDialogData: {},\n      groupScaleDialog: {\n        visible: false,\n        title: '增加副本',\n        width: 800,\n        showFooter: false\n      },\n      groupScaleDialogData: {},\n      groupMergeDialog: {\n        visible: false,\n        title: '减少副本',\n        width: 800,\n        showFooter: false\n      },\n      groupMergeDialogData: {},\n      addPartitionDialog: {\n        visible: false,\n          title: '增加分区数',\n          width: 500,\n          showFooter: true\n      },\n      addPartitionDialogData: {},\n      removePartitionDialog: {\n        visible: false,\n          title: '减少分区数',\n          width: 800,\n          showFooter: true\n      },\n      removePartitionDialogData: {},\n      groupNewDialog: {\n        visible: false,\n        title: '详情',\n        width: 800,\n        showFooter: false\n      },\n      groupNewDialogData: {\n        topic: this.$route.query.topic,\n        namespace: this.$route.query.namespace,\n        electType: 0,\n        replicaGroups: [],\n        partitions: 0\n      },\n      newGroupData: {\n      }\n    }\n  },\n  computed: {\n  },\n  methods: {\n    // 查询\n    getList () {\n      this.showTablePin = true\n      let data = {\n        pagination: {\n          page: this.page.page,\n          size: this.page.size\n        },\n        query: {\n          topic: this.searchData.topic,\n          namespace: this.searchData.namespace,\n          keyword: this.searchData.keyword\n        }\n      }\n      apiRequest.post(this.urlOrigin.search, {}, data).then((data) => {\n        data.data = data.data || []\n        data.pagination = data.pagination || {\n          totalRecord: data.data.length\n        }\n        this.page.total = data.pagination.totalRecord\n        this.page.page = data.pagination.page\n        this.page.size = data.pagination.size\n        this.tableData.rowData = data.data\n        this.showTablePin = false\n      })\n    },\n    goDetail (item) {\n      this.groupDetailDialogData = {groupNo: item.groupNo, topic: this.searchData.topic, namespace: this.searchData.namespace}\n      this.groupDetailDialog.visible = true\n    },\n    groupDetailConfirm () {\n\n    },\n    groupDetailCancel () {\n      this.groupDetailDialog.visible = false\n    },\n    groupScale (item) {\n      this.groupScaleDialogData = {groupNo: item.groupNo, topic: {id: item.topic.id, code: item.topic.code}, namespace: {id: item.namespace.id, code: item.namespace.code}}\n      this.groupScaleDialog.visible = true\n    },\n    groupScaleConfirm () {\n\n    },\n    groupScaleCancel () {\n      this.groupScaleDialog.visible = false\n    },\n    groupNewConfirm () {\n\n    },\n    groupNewCancel () {\n      this.groupNewDialog.visible = false\n      this.getList()\n    },\n    groupNew () {\n      this.groupNewDialogData = {topic: this.searchData.topic, namespace: this.searchData.namespace}\n      this.groupNewDialog.visible = true\n    },\n    groupMerge (item) {\n      this.groupMergeDialog.visible = true\n      this.groupMergeDialogData = {groupNo: item.groupNo, topic: {id: item.topic.id, code: item.topic.code}, namespace: {id: item.namespace.id, code: item.namespace.code}}\n    },\n    groupMergeConfirm () {\n\n    },\n    groupMergeCancel () {\n      this.groupMergeDialog.visible = false\n      this.getList()\n    },\n    addPartition (item) {\n      this.addPartitionDialog.visible = true\n      this.addPartitionDialogData = item;\n    },\n    addPartitionConfirm () {\n      if (this.addPartitionDialogData.partitionsCount<=0) {\n        return;\n      }\n      apiRequest.post(this.urls.addPartition, {}, this.addPartitionDialogData).then((data) => {\n      if(data.code == 200) {\n        this.addPartitionDialog.visible = false;\n        this.$Dialog.success({\n            content: '添加成功'\n          })\n        this.getList();\n      } else {\n          this.$Dialog.error({\n            content: '操作失败'\n          })\n        }\n      })\n    },\n    addPartitionCancel () {\n      this.addPartitionDialog.visible = false\n    },\n    removePartition (item) {\n      this.removePartitionDialog.visible = true\n      this.removePartitionDialogData = item\n    },\n    removePartitionConfirm () {\n      if(this.removePartitionDialogData.partitionsCount<=0) {\n        return;\n      }\n      apiRequest.post(this.urls.removePartition, {}, this.removePartitionDialogData).then((data) => {\n      if(data.code == 200){\n        this.removePartitionDialog.visible = false\n        this.$Dialog.success({\n            content: '减少成功'\n          })\n        this.getList();\n      } else {\n            this.$Dialog.error({\n              content: '操作失败'\n            })\n          }\n      });\n    },\n    removePartitionCancel () {\n      this.removePartitionDialog.visible = false\n    },\n    del (item) {\n      var data = item;\n      apiRequest.post(this.urls.del, {}, data).then((data) => {\n        this.$Message.success('删除成功');\n        this.getList();\n    })\n    },\n    topicUpdate () {\n      this.$emit('on-partition-group-change')\n    },\n    afterDel () {\n      this.topicUpdate()\n    }\n  },\n  mounted () {\n    // this.getList();\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.label{text-align: right; line-height: 32px;}\n.val{}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/topic/partitionGroup.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"ml20 mt30\"},[_c('d-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.groupNew}},[_vm._v(\"扩容\"),_c('icon',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"name\":\"plus-circle\"}})],1)],1),_vm._v(\" \"),_c('my-table',{attrs:{\"data\":_vm.tableData,\"showPin\":_vm.showTablePin,\"page\":_vm.page},on:{\"on-size-change\":_vm.handleSizeChange,\"on-current-change\":_vm.handleCurrentChange,\"on-view-detail\":_vm.goDetail,\"on-scale\":_vm.groupScale,\"on-merge\":_vm.groupMerge,\"on-del\":_vm.del,\"on-addPartition\":_vm.addPartition,\"on-removePartition\":_vm.removePartition}}),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.groupDetailDialog},on:{\"on-dialog-confirm\":function($event){return _vm.groupDetailConfirm()},\"on-dialog-cancel\":function($event){return _vm.groupDetailCancel()}}},[_c('group-detail',{attrs:{\"data\":_vm.groupDetailDialogData}})],1),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.groupScaleDialog},on:{\"on-dialog-confirm\":function($event){return _vm.groupScaleConfirm()},\"on-dialog-cancel\":function($event){return _vm.groupScaleCancel()}}},[_c('group-scale',{attrs:{\"data\":_vm.groupScaleDialogData}})],1),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.groupMergeDialog},on:{\"on-dialog-confirm\":function($event){return _vm.groupMergeConfirm()},\"on-dialog-cancel\":function($event){return _vm.groupMergeCancel()}}},[_c('group-merge',{attrs:{\"data\":_vm.groupMergeDialogData}})],1),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.addPartitionDialog},on:{\"on-dialog-confirm\":function($event){return _vm.addPartitionConfirm()},\"on-dialog-cancel\":function($event){return _vm.addPartitionCancel()}}},[_c('d-input',{staticStyle:{\"width\":\"400px\"},attrs:{\"placeholder\":\"请输入增加分区数\"},model:{value:(_vm.addPartitionDialogData.partitionCount),callback:function ($$v) {_vm.$set(_vm.addPartitionDialogData, \"partitionCount\", $$v)},expression:\"addPartitionDialogData.partitionCount\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"增加分区数\")])])],1),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.removePartitionDialog},on:{\"on-dialog-confirm\":function($event){return _vm.removePartitionConfirm()},\"on-dialog-cancel\":function($event){return _vm.removePartitionCancel()}}},[_c('d-input',{staticStyle:{\"width\":\"400px\"},attrs:{\"placeholder\":\"请输入减少分区数\"},model:{value:(_vm.removePartitionDialogData.partitionCount),callback:function ($$v) {_vm.$set(_vm.removePartitionDialogData, \"partitionCount\", $$v)},expression:\"removePartitionDialogData.partitionCount\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"减少分区数\")])])],1),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.groupNewDialog},on:{\"on-dialog-confirm\":function($event){return _vm.groupNewConfirm()},\"on-dialog-cancel\":function($event){return _vm.groupNewCancel()}}},[_c('group-new',{attrs:{\"data\":_vm.groupNewDialogData},on:{\"on-dialog-confirm\":function($event){return _vm.groupNewConfirm()},\"on-dialog-cancel\":function($event){return _vm.groupNewCancel()},\"on-partition-group-change\":_vm.topicUpdate}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-807c867c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/topic/partitionGroup.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-807c867c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./partitionGroup.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./partitionGroup.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./partitionGroup.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-807c867c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./partitionGroup.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-807c867c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/topic/partitionGroup.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}