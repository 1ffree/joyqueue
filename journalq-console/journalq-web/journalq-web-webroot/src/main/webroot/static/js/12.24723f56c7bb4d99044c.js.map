{"version":3,"sources":["webpack:///src/views/setting/brokerMonitor.vue","webpack:///./src/views/setting/brokerMonitor.vue?f7ea","webpack:///./src/views/setting/brokerMonitor.vue","webpack:///src/views/setting/broker.vue","webpack:///./src/views/setting/broker.vue?a1ac","webpack:///./src/views/setting/broker.vue"],"names":["brokerMonitor","name","components","BrokerPartitionGroupMonitor","BrokerConnectionMonitor","brokerConnectionMonitor","ClientConnection","clientConnection","myTable","myDialog","props","brokerId","type","Number","mixins","crud","data","theme1","urls","search","searchData","this","searchRules","tableData","rowData","colData","title","key","render","h","params","list","item","brokerTopicMonitorRecordList","html","i","length","p","app","push","connections","count","totalSize","multipleSelection","methods","menuChange","getList","$refs","mounted","setting_brokerMonitor","_vm","_h","$createElement","_c","_self","on","on-change","attrs","label","staticStyle","height","overflow-y","showPin","showTablePin","page","on-size-change","handleSizeChange","on-current-change","handleCurrentChange","on-selection-change","handleSelectionChange","on-edit","edit","_v","ref","broker-id","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","setting_broker","BrokerMonitor","del","archiveMonitor","keyword","btns","txt","method","editDialog","visible","showFooter","archiveMonitorDialog","archiveMonitorData","monitorDetailDialog","width","retryTypeList","value","permissionList","monitorDetailData","editData","_this","broker","ip","port","apiRequest","postBase","urlOrigin","then","console","log","openDialog","detail","id","beforeEdit","_this2","promise_default","a","resolve","reject","retryType","permission","views_setting_broker","staticClass","placeholder","model","callback","$$v","$set","expression","slot","size","color","click","on-del","on-detail","on-archiveMonitor","dialog","on-dialog-confirm","$event","editConfirm","on-dialog-cancel","editCancel","span","_l","_s","justify","consumeBacklog","produceBacklog","ssrContext"],"mappings":"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","file":"static/js/12.24723f56c7bb4d99044c.js","sourcesContent":["<template>\r\n  <div>\r\n    <d-tabs @on-change=\"menuChange\">\r\n      <d-tab-pane label=\"生产者详情\" name=\"producer\">\r\n        <my-table :data=\"tableData\" :showPin=\"showTablePin\" style=\"height: 400px;overflow-y:auto\" :page=\"page\" @on-size-change=\"handleSizeChange\" @on-current-change=\"handleCurrentChange\" @on-selection-change=\"handleSelectionChange\"\r\n                  @on-edit=\"edit\">\r\n        </my-table>\r\n      </d-tab-pane>\r\n      <d-tab-pane label=\"消费者详情\" name=\"consumer\">\r\n        <my-table :data=\"tableData\" :showPin=\"showTablePin\" style=\"height: 400px;overflow-y:auto\" :page=\"page\" @on-size-change=\"handleSizeChange\" @on-current-change=\"handleCurrentChange\" @on-selection-change=\"handleSelectionChange\"\r\n                  @on-edit=\"edit\">\r\n        </my-table>\r\n      </d-tab-pane>\r\n      <d-tab-pane label=\"连接信息\" name=\"brokerConnectionMonitor\">\r\n        <broker-connection-monitor ref=\"brokerConnectionMonitor\" style=\"height: 400px;overflow-y:auto\" :broker-id=\"this.brokerId\"></broker-connection-monitor>\r\n      </d-tab-pane>\r\n      <d-tab-pane label=\"分组信息\" name=\"brokerPartitionGroupMonitor\">\r\n        <broker-partition-group-monitor ref=\"brokerPartitionGroupMonitor\" style=\"height: 400px;overflow-y:auto\" :broker-id=\"this.brokerId\"></broker-partition-group-monitor>\r\n      </d-tab-pane>\r\n    </d-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import apiRequest from '../../utils/apiRequest.js'\r\n  import myTable from '../../components/common/myTable.vue'\r\n  import myDialog from '../../components/common/myDialog.vue'\r\n  import crud from '../../mixins/crud.js'\r\n  import ClientConnection from \"../monitor/clientConnection\";\r\n  import BrokerConnectionMonitor from \"./brokerConnectionMonitor\";\r\n  import BrokerPartitionGroupMonitor from \"./brokerPartitionGroupMonitor\";\r\n\r\n  export default {\r\n    name: \"brokerMonitor\",\r\n    components: {\r\n      BrokerPartitionGroupMonitor,\r\n      BrokerConnectionMonitor,\r\n      ClientConnection,\r\n      myTable,\r\n      myDialog\r\n    },\r\n    props:{\r\n      brokerId:{\r\n        type:Number\r\n      }\r\n    },\r\n    mixins: [ crud ],\r\n    data() {\r\n      return {\r\n        theme1: 'light',\r\n        urls: {\r\n          search: '/monitor/broker/topic/search',\r\n        },\r\n        searchData: {\r\n          brokerId: this.brokerId,\r\n          type:1\r\n        },\r\n        searchRules: {\r\n        },\r\n        tableData: {\r\n          rowData: [],\r\n          colData: [\r\n            {\r\n              title: '队列',\r\n              key: 'topic'\r\n            },\r\n            {\r\n              title: '应用',\r\n              key: 'brokerTopicMonitorRecordList',\r\n              render: (h, params) => {\r\n                var list=params.item.brokerTopicMonitorRecordList;\r\n                var html=[];\r\n                for(var i=0;i<list.length;i++){\r\n                  var p=h('div',list[i].app);\r\n                  html.push(p);\r\n                }\r\n                return h('div',{},html)\r\n              }\r\n            },\r\n            {\r\n              title: '连接数',\r\n              key: 'brokerTopicMonitorRecordList',\r\n              render: (h, params) => {\r\n                var list=params.item.brokerTopicMonitorRecordList;\r\n                var html=[];\r\n                for(var i=0;i<list.length;i++){\r\n                  var p=h('div',list[i].connections);\r\n                  html.push(p);\r\n                }\r\n                return h('div',html)\r\n              }\r\n            },\r\n            {\r\n              title: '出/入对数',\r\n              key: 'brokerTopicMonitorRecordList',\r\n              render: (h, params) => {\r\n                var list=params.item.brokerTopicMonitorRecordList;\r\n                var html=[]\r\n                for(var i=0;i<list.length;i++){\r\n                  var p=h('div',list[i].count);\r\n                  html.push(p);\r\n                }\r\n                return h('div',html)\r\n              }\r\n            },\r\n            {\r\n              title: '出/入队流量',\r\n              key: 'brokerTopicMonitorRecordList',\r\n              render: (h, params) => {\r\n                var list=params.item.brokerTopicMonitorRecordList;\r\n                var html=[];\r\n                for(var i=0;i<list.length;i++){\r\n                  var p=h('div',list[i].totalSize);\r\n                  html.push(p);\r\n                }\r\n                return h('div',html)\r\n              }\r\n            }\r\n          ],\r\n          // 表格操作，如果需要根据特定值隐藏显示， 设置bindKey对应的属性名和bindVal对应的属性值\r\n          // btns: [\r\n          //   {\r\n          //     txt: '编辑',\r\n          //     method: 'on-edit'\r\n          //   }\r\n          // ]\r\n        },\r\n        multipleSelection: []\r\n      }\r\n    },\r\n    methods: {\r\n      menuChange(item){\r\n        if (item.name=='consumer'){\r\n          this.searchData.type=2;\r\n          this.getList();\r\n        } else if (item.name=='producer') {\r\n          this.searchData.type=1;\r\n          this.getList();\r\n        } else {\r\n          this.$refs[item.name].getList()\r\n        }\r\n      }\r\n    },\r\n    mounted () {\r\n      this.getList()\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/setting/brokerMonitor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('d-tabs',{on:{\"on-change\":_vm.menuChange}},[_c('d-tab-pane',{attrs:{\"label\":\"生产者详情\",\"name\":\"producer\"}},[_c('my-table',{staticStyle:{\"height\":\"400px\",\"overflow-y\":\"auto\"},attrs:{\"data\":_vm.tableData,\"showPin\":_vm.showTablePin,\"page\":_vm.page},on:{\"on-size-change\":_vm.handleSizeChange,\"on-current-change\":_vm.handleCurrentChange,\"on-selection-change\":_vm.handleSelectionChange,\"on-edit\":_vm.edit}})],1),_vm._v(\" \"),_c('d-tab-pane',{attrs:{\"label\":\"消费者详情\",\"name\":\"consumer\"}},[_c('my-table',{staticStyle:{\"height\":\"400px\",\"overflow-y\":\"auto\"},attrs:{\"data\":_vm.tableData,\"showPin\":_vm.showTablePin,\"page\":_vm.page},on:{\"on-size-change\":_vm.handleSizeChange,\"on-current-change\":_vm.handleCurrentChange,\"on-selection-change\":_vm.handleSelectionChange,\"on-edit\":_vm.edit}})],1),_vm._v(\" \"),_c('d-tab-pane',{attrs:{\"label\":\"连接信息\",\"name\":\"brokerConnectionMonitor\"}},[_c('broker-connection-monitor',{ref:\"brokerConnectionMonitor\",staticStyle:{\"height\":\"400px\",\"overflow-y\":\"auto\"},attrs:{\"broker-id\":this.brokerId}})],1),_vm._v(\" \"),_c('d-tab-pane',{attrs:{\"label\":\"分组信息\",\"name\":\"brokerPartitionGroupMonitor\"}},[_c('broker-partition-group-monitor',{ref:\"brokerPartitionGroupMonitor\",staticStyle:{\"height\":\"400px\",\"overflow-y\":\"auto\"},attrs:{\"broker-id\":this.brokerId}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f533980\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/setting/brokerMonitor.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./brokerMonitor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./brokerMonitor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f533980\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./brokerMonitor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/setting/brokerMonitor.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div class=\"ml20 mt30\">\r\n      <d-input v-model=\"searchData.keyword\" placeholder=\"请输入ID/分组编码/IP\" class=\"left mr10\" style=\"width: 20%\">\r\n        <icon name=\"search\" size=\"14\" color=\"#CACACA\" slot=\"suffix\" @click=\"getList\"></icon>\r\n      </d-input>\r\n    </div>\r\n    <my-table :data=\"tableData\" :showPin=\"showTablePin\" :page=\"page\" @on-size-change=\"handleSizeChange\" @on-current-change=\"handleCurrentChange\" @on-selection-change=\"handleSelectionChange\"\r\n              @on-edit=\"edit\" @on-del=\"del\" @on-detail=\"detail\" @on-archiveMonitor=\"archiveMonitor\">\r\n    </my-table>\r\n\r\n    <!--编辑Broker-->\r\n    <my-dialog :dialog=\"editDialog\" @on-dialog-confirm=\"editConfirm()\" @on-dialog-cancel=\"editCancel()\">\r\n      <grid-row class=\"mb10\">\r\n        <grid-col :span=\"8\" class=\"label\">IP:</grid-col>\r\n        <grid-col :span=\"16\" class=\"val\">\r\n          <d-input v-model=\"editData.ip\"></d-input>\r\n        </grid-col>\r\n      </grid-row>\r\n      <grid-row class=\"mb10\">\r\n        <grid-col :span=\"8\" class=\"label\">端口:</grid-col>\r\n        <grid-col :span=\"16\" class=\"val\">\r\n          <d-input v-model=\"editData.port\"></d-input>\r\n        </grid-col>\r\n      </grid-row>\r\n      <grid-row class=\"mb10\">\r\n        <grid-col :span=\"8\" class=\"label\">重试方式:</grid-col>\r\n        <grid-col :span=\"16\" class=\"val\">\r\n          <d-select v-model=\"editData.retryType\" style=\"width:40%\" >\r\n            <d-option v-for=\"item in retryTypeList\" :key=\"item.key\" :value=\"item.key\">{{item.value}}</d-option>\r\n              <!--<d-option :value=\"DB\">DB</d-option>-->\r\n              <!--<d-option :value=\"RemoteRetry\">RemoteRetry</d-option>-->\r\n          </d-select>\r\n        </grid-col>\r\n      </grid-row>\r\n      <grid-row class=\"mb10\">\r\n        <grid-col :span=\"8\" class=\"label\">权限:</grid-col>\r\n        <grid-col :span=\"16\" class=\"val\">\r\n          <d-select v-model=\"editData.permission\" style=\"width:40%\" >\r\n            <d-option v-for=\"item in permissionList\" :key=\"item.key\" :value=\"item.key\">{{item.value}}</d-option>\r\n            <!--<d-option :value=\"FULL\">FULL</d-option>-->\r\n            <!--<d-option :value=\"1\">READ</d-option>-->\r\n            <!--<d-option :value=\"2\">WRITE</d-option>-->\r\n            <!--<d-option :value=\"3\">NONE</d-option>-->\r\n          </d-select>\r\n        </grid-col>\r\n      </grid-row>\r\n      <!--<grid-row class=\"mb10\">-->\r\n        <!--<grid-col :span=\"8\" class=\"label\">描述:</grid-col>-->\r\n        <!--<grid-col :span=\"16\" class=\"val\">-->\r\n          <!--<d-input v-model=\"editData.description\"></d-input>-->\r\n        <!--</grid-col>-->\r\n      <!--</grid-row>-->\r\n    </my-dialog>\r\n    <my-dialog :dialog=\"archiveMonitorDialog\">\r\n      <grid-row class=\"mb10\" justify=\"end\">\r\n        <grid-col :span=\"6\" class=\"label\">待归档消费记录数:</grid-col>\r\n        <grid-col :span=\"2\" class=\"label\" >\r\n          <span >{{archiveMonitorData.consumeBacklog}}</span>\r\n        </grid-col>\r\n        <grid-col :span=\"6\" class=\"label\">待归生产记录数:</grid-col>\r\n        <grid-col :span=\"2\" class=\"label\">\r\n          <span >{{archiveMonitorData.produceBacklog}}</span>\r\n        </grid-col>\r\n      </grid-row>\r\n    </my-dialog>\r\n    <my-dialog :dialog=\"monitorDetailDialog\">\r\n      <broker-monitor :brokerId=\"brokerId\"> </broker-monitor>\r\n    </my-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiRequest from '../../utils/apiRequest.js'\r\nimport myTable from '../../components/common/myTable.vue'\r\nimport myDialog from '../../components/common/myDialog.vue'\r\nimport crud from '../../mixins/crud.js'\r\nimport BrokerMonitor from './brokerMonitor'\r\n\r\nexport default {\r\n  name: 'application',\r\n  components: {\r\n    BrokerMonitor,\r\n    myTable,\r\n    myDialog\r\n  },\r\n  mixins: [ crud ],\r\n  data () {\r\n    return {\r\n      urls: {\r\n        search: '/broker/search',\r\n        del: '/broker/delete',\r\n        edit: '/broker/update',\r\n        archiveMonitor: '/monitor/archive'\r\n      },\r\n      searchData: {\r\n        keyword: ''\r\n      },\r\n      searchRules: {\r\n      },\r\n      tableData: {\r\n        rowData: [],\r\n        colData: [\r\n          {\r\n            title: 'ID',\r\n            key: 'id'\r\n          },\r\n          {\r\n            title: '分组编码',\r\n            key: 'group.code'\r\n          },\r\n          {\r\n            title: 'IP',\r\n            key: 'ip'\r\n          },\r\n          {\r\n            title: '端口',\r\n            key: 'port'\r\n          },\r\n          // {\r\n          //   title:'数据中心',\r\n          //   key: 'dataCenter.id'\r\n          // },\r\n          {\r\n            title: '重试方式',\r\n            key: 'retryType'\r\n          },\r\n          {\r\n            title: '权限',\r\n            key: 'permission'\r\n          }\r\n          // {\r\n          //   title:'描述',\r\n          //   key: 'description'\r\n          // }\r\n        ],\r\n        // 表格操作，如果需要根据特定值隐藏显示， 设置bindKey对应的属性名和bindVal对应的属性值\r\n        btns: [\r\n          {\r\n            txt: '编辑',\r\n            method: 'on-edit'\r\n          },\r\n          {\r\n            txt: '归档监控',\r\n            method: 'on-archiveMonitor'\r\n          },\r\n          // {\r\n          //   txt: '删除',\r\n          //   method: 'on-del'\r\n          // },\r\n          {\r\n            txt: '详情',\r\n            method: 'on-detail'\r\n          }\r\n        ]\r\n      },\r\n      brokerId: '',\r\n      multipleSelection: [],\r\n      editDialog: {\r\n        visible: false,\r\n        title: '编辑Broker',\r\n        showFooter: true\r\n      },\r\n      archiveMonitorDialog: {\r\n        visible: false,\r\n        title: '归档监控信息',\r\n        showFooter: true\r\n      },\r\n      archiveMonitorData: {},\r\n      monitorDetailDialog: {\r\n        visible: false,\r\n        title: 'broker详情',\r\n        showFooter: false,\r\n        width: '1100px'\r\n      },\r\n      retryTypeList: [\r\n        {key: 'DB', value: 'DB'},\r\n        {key: 'RemoteRetry', value: 'RemoteRetry'}\r\n      ],\r\n      permissionList: [\r\n        {key: 'FULL', value: 'FULL'},\r\n        {key: 'READ', value: 'READ'},\r\n        {key: 'WRITE', value: 'WRITE'},\r\n        {key: 'NONE', value: 'NONE'}\r\n      ],\r\n      monitorDetailData: {},\r\n      editData: {}\r\n    }\r\n  },\r\n  methods: {\r\n    archiveMonitor (item) {\r\n      let broker = {\r\n        ip: item.ip,\r\n        port: item.port\r\n      }\r\n      apiRequest.postBase(this.urlOrigin.archiveMonitor, {}, broker, false).then((data) => {\r\n        data.data = data.data || {}\r\n        console.log(data.data)\r\n        this.archiveMonitorData = data.data\r\n        this.openDialog('archiveMonitorDialog')\r\n      })\r\n    },\r\n    detail (item) {\r\n      this.brokerId = item.id\r\n      this.monitorDetailDialog.visible = true\r\n    },\r\n    beforeEdit () {\r\n      return new Promise((resolve, reject) => {\r\n        resolve({\r\n          id: this.editData.id,\r\n          brokerId: this.editData.brokerId,\r\n          ip: this.editData.ip,\r\n          port: this.editData.port,\r\n          // dataCenter: this.editData['dataCenter'].id,\r\n          retryType: this.editData.retryType,\r\n          permission: this.editData.permission\r\n          // description: this.editData.description\r\n        })\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getList()\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .label{text-align: right; line-height: 32px;}\r\n  .val{}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/setting/broker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"ml20 mt30\"},[_c('d-input',{staticClass:\"left mr10\",staticStyle:{\"width\":\"20%\"},attrs:{\"placeholder\":\"请输入ID/分组编码/IP\"},model:{value:(_vm.searchData.keyword),callback:function ($$v) {_vm.$set(_vm.searchData, \"keyword\", $$v)},expression:\"searchData.keyword\"}},[_c('icon',{attrs:{\"slot\":\"suffix\",\"name\":\"search\",\"size\":\"14\",\"color\":\"#CACACA\"},on:{\"click\":_vm.getList},slot:\"suffix\"})],1)],1),_vm._v(\" \"),_c('my-table',{attrs:{\"data\":_vm.tableData,\"showPin\":_vm.showTablePin,\"page\":_vm.page},on:{\"on-size-change\":_vm.handleSizeChange,\"on-current-change\":_vm.handleCurrentChange,\"on-selection-change\":_vm.handleSelectionChange,\"on-edit\":_vm.edit,\"on-del\":_vm.del,\"on-detail\":_vm.detail,\"on-archiveMonitor\":_vm.archiveMonitor}}),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.editDialog},on:{\"on-dialog-confirm\":function($event){return _vm.editConfirm()},\"on-dialog-cancel\":function($event){return _vm.editCancel()}}},[_c('grid-row',{staticClass:\"mb10\"},[_c('grid-col',{staticClass:\"label\",attrs:{\"span\":8}},[_vm._v(\"IP:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"val\",attrs:{\"span\":16}},[_c('d-input',{model:{value:(_vm.editData.ip),callback:function ($$v) {_vm.$set(_vm.editData, \"ip\", $$v)},expression:\"editData.ip\"}})],1)],1),_vm._v(\" \"),_c('grid-row',{staticClass:\"mb10\"},[_c('grid-col',{staticClass:\"label\",attrs:{\"span\":8}},[_vm._v(\"端口:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"val\",attrs:{\"span\":16}},[_c('d-input',{model:{value:(_vm.editData.port),callback:function ($$v) {_vm.$set(_vm.editData, \"port\", $$v)},expression:\"editData.port\"}})],1)],1),_vm._v(\" \"),_c('grid-row',{staticClass:\"mb10\"},[_c('grid-col',{staticClass:\"label\",attrs:{\"span\":8}},[_vm._v(\"重试方式:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"val\",attrs:{\"span\":16}},[_c('d-select',{staticStyle:{\"width\":\"40%\"},model:{value:(_vm.editData.retryType),callback:function ($$v) {_vm.$set(_vm.editData, \"retryType\", $$v)},expression:\"editData.retryType\"}},_vm._l((_vm.retryTypeList),function(item){return _c('d-option',{key:item.key,attrs:{\"value\":item.key}},[_vm._v(_vm._s(item.value))])}),1)],1)],1),_vm._v(\" \"),_c('grid-row',{staticClass:\"mb10\"},[_c('grid-col',{staticClass:\"label\",attrs:{\"span\":8}},[_vm._v(\"权限:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"val\",attrs:{\"span\":16}},[_c('d-select',{staticStyle:{\"width\":\"40%\"},model:{value:(_vm.editData.permission),callback:function ($$v) {_vm.$set(_vm.editData, \"permission\", $$v)},expression:\"editData.permission\"}},_vm._l((_vm.permissionList),function(item){return _c('d-option',{key:item.key,attrs:{\"value\":item.key}},[_vm._v(_vm._s(item.value))])}),1)],1)],1)],1),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.archiveMonitorDialog}},[_c('grid-row',{staticClass:\"mb10\",attrs:{\"justify\":\"end\"}},[_c('grid-col',{staticClass:\"label\",attrs:{\"span\":6}},[_vm._v(\"待归档消费记录数:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"label\",attrs:{\"span\":2}},[_c('span',[_vm._v(_vm._s(_vm.archiveMonitorData.consumeBacklog))])]),_vm._v(\" \"),_c('grid-col',{staticClass:\"label\",attrs:{\"span\":6}},[_vm._v(\"待归生产记录数:\")]),_vm._v(\" \"),_c('grid-col',{staticClass:\"label\",attrs:{\"span\":2}},[_c('span',[_vm._v(_vm._s(_vm.archiveMonitorData.produceBacklog))])])],1)],1),_vm._v(\" \"),_c('my-dialog',{attrs:{\"dialog\":_vm.monitorDetailDialog}},[_c('broker-monitor',{attrs:{\"brokerId\":_vm.brokerId}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-680ca304\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/setting/broker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-680ca304\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./broker.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./broker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./broker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-680ca304\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./broker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-680ca304\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/setting/broker.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}